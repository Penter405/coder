main.py
│
├─ Load file/data.json
│   │
│   ├─ Check: current_project exists?
│   │   │
│   │   ├─ NO
│   │   │   ├─ Show warning:
│   │   │   │   "No project selected."
│   │   │   └─ Exit program
│   │   │
│   │   └─ YES
│   │       └─ Continue
│   │
│   └─ Read:
│       ├─ projects
│       ├─ current_project
│       └─ selected_files (per project)
│
└─ Main Window (GUI)
    │
    ├─ Display Project Info
    │   ├─ Current Project Name
    │   └─ Project Path
    │
    ├─ [ Option 1 ] Control Selected Files
    │   │
    │   └─ Control Selected Files Window
    │       │
    │       ├─ Scan project directory (recursive)
    │       │
    │       ├─ Build file tree
    │       │   ├─ Root folder shown
    │       │   └─ All subfolders & files included
    │       │
    │       ├─ Checkbox Logic
    │       │   ├─ Check folder
    │       │   │   └─ Auto-check all children
    │       │   │
    │       │   └─ Uncheck folder
    │       │       └─ Auto-uncheck all children
    │       │
    │       ├─ User selects / unselects files
    │       │
    │       ├─ [ Apply ]
    │       │   └─ Save selection
    │       │       └─ data.json →
    │       │           projects[<project_name>].selected_files
    │       │
    │       └─ [ Cancel ]
    │           └─ Discard changes (no write)
    │
    ├─ [ Option 2 ] Enter
    │   │
    │   └─ Enter Workspace
    │       │
    │       ├─ Read selected_files
    │       │
    │       ├─ Check permission
    │       │   ├─ selected_files is EMPTY
    │       │   │   └─ Warn:
    │       │   │       "AI has no permission to operate files."
    │       │   │
    │       │   └─ selected_files NOT EMPTY
    │       │       └─ Continue
    │       │
    │       ├─ Generate chat.txt
    │       │   ├─ task_description
    │       │   ├─ project file tree
    │       │   └─ contents of selected_files ONLY
    │       │
    │       ├─ User action
    │       │   ├─ Copy chat.txt
    │       │   └─ Paste into LLM
    │       │
    │       ├─ LLM outputs code / patch
    │       │
    │       └─ User paste back result
    │           ├─ Apply changes to project
    │           └─ Write operation record to log.txt
    │
    └─ [ Option 3 ] Exit
        └─ Program End
